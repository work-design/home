class RailsComMigration2 < ActiveRecord::Migration[6.1]

  def change
























































    remove_column :wechat_requests, :wechat_user_id, :integer, scale: 8
    remove_column :wechat_requests, :wechat_app_id, :integer, scale: 8






    create_table :wechat_services do |t|
      t.references :wechat_request
      t.string :type
      t.string :msgtype
      t.string :value
      t.string :appid
      t.string :open_id
      t.json :body
      t.timestamps
    end


    add_reference :wechat_auths, :wechat_request
    add_column :wechat_auths, :testcase, :boolean







    remove_column :wechat_responses, :wechat_app_id, :integer, scale: 8




































































































    remove_column :authorized_tokens, :organ_id, :integer, scale: 8
























































  end

end
